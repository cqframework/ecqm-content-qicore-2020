<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorVersion="2.4.0" translatorOptions="EnableAnnotations,EnableLocators,EnableResultTypes,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <annotation libraryId="DischargedonAntithromboticTherapyQICore4" libraryVersion="0.0.006" startLine="149" startChar="5" endLine="149" endChar="42" message="Could not resolve code path type for the type of the retrieve QICore.ServiceRequest." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation libraryId="DischargedonAntithromboticTherapyQICore4" libraryVersion="0.0.006" startLine="149" startChar="5" endLine="149" endChar="42" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation libraryId="DischargedonAntithromboticTherapyQICore4" libraryVersion="0.0.006" startLine="139" startChar="5" endLine="139" endChar="42" message="Could not resolve code path type for the type of the retrieve QICore.ServiceRequest." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation libraryId="DischargedonAntithromboticTherapyQICore4" libraryVersion="0.0.006" startLine="139" startChar="5" endLine="139" endChar="42" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="463">
         <a:s>library DischargedonAntithromboticTherapyQICore4 version '0.0.006'</a:s>
      </a:s>
   </annotation>
   <identifier id="DischargedonAntithromboticTherapyQICore4" version="0.0.006"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="8:1-8:28" localIdentifier="QICore" uri="http://hl7.org/fhir">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>/* based upon FHIR library DischargedonAntithromboticTherapyFHIR4 version '0.4.000'
PJM - updated to QICore, shared libraries, valuesets, default Interval to 2022
Definition names with 'DISPLAY' are used to display pertinent data
*/
using </a:s>
               <a:s>
                  <a:s>QICore</a:s>
               </a:s>
               <a:s> version '4.1.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="10:1-10:56" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.0.013">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.013' called FHIRHelpers</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="11:1-11:71" localIdentifier="Global" path="MATGlobalCommonFunctionsQICore4" version="7.0.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>MATGlobalCommonFunctionsQICore4</a:s>
               </a:s>
               <a:s> version '7.0.000' called Global</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="12:1-12:58" localIdentifier="QICoreCommon" path="QICoreCommon" version="1.0.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>QICoreCommon</a:s>
               </a:s>
               <a:s> version '1.0.000' called QICoreCommon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="13:1-13:68" localIdentifier="SDE" path="SupplementalDataElementsQICore4" version="3.0.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>SupplementalDataElementsQICore4</a:s>
               </a:s>
               <a:s> version '3.0.000' called SDE</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="28" locator="36:1-37:66" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="28">
               <a:s>parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="27">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="26">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>
  default </a:s>
               <a:s r="25">
                  <a:s r="23">Interval[@2022-01-01T00:00:00.0, @2023-01-01T00:00:00.0)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <default localId="25" locator="37:11-37:66" lowClosed="true" highClosed="false" xsi:type="Interval">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <low localId="23" locator="37:20-37:41" resultTypeName="t:DateTime" xsi:type="DateTime">
               <year valueType="t:Integer" value="2022" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
               <hour valueType="t:Integer" value="0" xsi:type="Literal"/>
               <minute valueType="t:Integer" value="0" xsi:type="Literal"/>
               <second valueType="t:Integer" value="0" xsi:type="Literal"/>
               <millisecond valueType="t:Integer" value="0" xsi:type="Literal"/>
            </low>
            <high localId="24" locator="37:44-37:65" resultTypeName="t:DateTime" xsi:type="DateTime">
               <year valueType="t:Integer" value="2023" xsi:type="Literal"/>
               <month valueType="t:Integer" value="1" xsi:type="Literal"/>
               <day valueType="t:Integer" value="1" xsi:type="Literal"/>
               <hour valueType="t:Integer" value="0" xsi:type="Literal"/>
               <minute valueType="t:Integer" value="0" xsi:type="Literal"/>
               <second valueType="t:Integer" value="0" xsi:type="Literal"/>
               <millisecond valueType="t:Integer" value="0" xsi:type="Literal"/>
            </high>
         </default>
         <parameterTypeSpecifier localId="27" locator="36:32-36:49" xsi:type="IntervalTypeSpecifier">
            <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <pointType localId="26" locator="36:41-36:48" resultTypeName="t:DateTime" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <valueSets>
      <def localId="6" locator="16:1-16:103" resultTypeName="t:ValueSet" name="Antithrombotic Therapy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.62" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>//include TJCOverallQICore4 version '6.0.000' called TJC
valueset &quot;Antithrombotic Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.62'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="17:1-17:99" resultTypeName="t:ValueSet" name="Medical Reason" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>valueset &quot;Medical Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="18:1-18:99" resultTypeName="t:ValueSet" name="Patient Refusal" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>valueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="19:1-19:141" resultTypeName="t:ValueSet" name="Pharmacological Contraindications For Antithrombotic Therapy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.52" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>valueset &quot;Pharmacological Contraindications For Antithrombotic Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.52'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="22:1-22:94" resultTypeName="t:ValueSet" name="Comfort Measures" id="http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>//from TJCOverall
valueset &quot;Comfort Measures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="23:1-23:116" resultTypeName="t:ValueSet" name="Discharge To Acute Care Facility" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>valueset &quot;Discharge To Acute Care Facility&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="12" locator="24:1-24:136" resultTypeName="t:ValueSet" name="Discharged to Health Care Facility for Hospice Care" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="12">
               <a:s>valueset &quot;Discharged to Health Care Facility for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="13" locator="25:1-25:120" resultTypeName="t:ValueSet" name="Discharged to Home for Hospice Care" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>valueset &quot;Discharged to Home for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="14" locator="26:1-26:111" resultTypeName="t:ValueSet" name="Emergency Department Visit" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>valueset &quot;Emergency Department Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="15" locator="27:1-27:100" resultTypeName="t:ValueSet" name="Encounter Inpatient" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="15">
               <a:s>valueset &quot;Encounter Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="16" locator="28:1-28:103" resultTypeName="t:ValueSet" name="Hemorrhagic Stroke" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="16">
               <a:s>valueset &quot;Hemorrhagic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="17" locator="29:1-29:100" resultTypeName="t:ValueSet" name="Ischemic Stroke" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="17">
               <a:s>valueset &quot;Ischemic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="18" locator="30:1-30:112" resultTypeName="t:ValueSet" name="Left Against Medical Advice" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="18">
               <a:s>valueset &quot;Left Against Medical Advice&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="19" locator="31:1-31:117" resultTypeName="t:ValueSet" name="Non-Elective Inpatient Encounter" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.424" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="19">
               <a:s>valueset &quot;Non-Elective Inpatient Encounter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.424'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="20" locator="32:1-32:102" resultTypeName="t:ValueSet" name="Observation Services" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="20">
               <a:s>valueset &quot;Observation Services&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="21" locator="33:1-33:100" resultTypeName="t:ValueSet" name="Patient Expired" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="21">
               <a:s>valueset &quot;Patient Expired&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="22" locator="34:1-34:99" resultTypeName="t:ValueSet" name="Ticagrelor Therapy" id="http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.39" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="22">
               <a:s>valueset &quot;Ticagrelor Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.39'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <contexts>
      <def locator="39:1-39:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="39:1-39:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="39:1-39:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="43" locator="53:1-56:74" name="Non Elective Inpatient Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="43">
               <a:s>//ORIG    where AgeInYearsAt(date from(start of AllStrokeEncounter.period))>= 18

//TJCOverall
define &quot;Non Elective Inpatient Encounter&quot;:
  </a:s>
               <a:s r="42">
                  <a:s>
                     <a:s r="30">
                        <a:s r="29">
                           <a:s r="29">
                              <a:s>[&quot;Encounter&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Non-Elective Inpatient Encounter&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NonElectiveEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
		</a:s>
                  <a:s r="41">
                     <a:s>where </a:s>
                     <a:s r="41">
                        <a:s r="36">
                           <a:s r="34">
                              <a:s r="31">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="34">
                                 <a:s>&quot;LengthInDays&quot;(</a:s>
                                 <a:s r="33">
                                    <a:s r="32">
                                       <a:s>NonElectiveEncounter</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="33">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="35"> &lt;= 120</a:s>
                        </a:s>
                        <a:s>
			and </a:s>
                        <a:s r="40">
                           <a:s r="38">
                              <a:s r="37">
                                 <a:s>NonElectiveEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="38">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="40"> ends during day of </a:s>
                           <a:s r="39">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="42" locator="54:3-56:74" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="30" locator="54:3-54:72" alias="NonElectiveEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="29" locator="54:3-54:51" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" codeProperty="type" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="54:17-54:50" resultTypeName="t:ValueSet" name="Non-Elective Inpatient Encounter" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="41" locator="55:3-56:74" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="36" locator="55:9-55:65" resultTypeName="t:Boolean" xsi:type="LessOrEqual">
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="34" locator="55:9-55:58" resultTypeName="t:Integer" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                     <signature xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="33" locator="55:31-55:57" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand path="period" scope="NonElectiveEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="35" locator="55:63-55:65" resultTypeName="t:Integer" valueType="t:Integer" value="120" xsi:type="Literal"/>
               </operand>
               <operand localId="40" locator="56:8-56:74" resultTypeName="t:Boolean" precision="Day" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand locator="56:36-56:39" xsi:type="End">
                     <signature xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="38" locator="56:8-56:34" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand path="period" scope="NonElectiveEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="39" locator="56:55-56:74" name="Measurement Period" xsi:type="ParameterRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="71" locator="59:1-66:7" name="All Stroke Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="71">
               <a:s>//TJCOverall
define &quot;All Stroke Encounter&quot;:
  </a:s>
               <a:s r="70">
                  <a:s>
                     <a:s r="45">
                        <a:s r="44">
                           <a:s>
                              <a:s>&quot;Non Elective Inpatient Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NonElectiveEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="49">
                        <a:s>EncPrincipalDx: </a:s>
                        <a:s r="48">
                           <a:s r="46">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="48">
                              <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                              <a:s r="47">
                                 <a:s>NonElectiveEncounter</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="69">
                     <a:s>where </a:s>
                     <a:s r="69">
                        <a:s r="59">
                           <a:s r="53">
                              <a:s r="51">
                                 <a:s r="50">
                                    <a:s>NonElectiveEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="51">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="52">
                                 <a:s>'finished'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="58">
                              <a:s r="55">
                                 <a:s r="54">
                                    <a:s>EncPrincipalDx</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="55">
                                    <a:s>verificationStatus</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> ~ </a:s>
                              <a:s r="57">
                                 <a:s r="56">
                                    <a:s>QICoreCommon</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="57">
                                    <a:s>&quot;confirmed&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="68">
                           <a:s>(</a:s>
                           <a:s r="68">
                              <a:s r="63">
                                 <a:s r="61">
                                    <a:s r="60">
                                       <a:s>EncPrincipalDx</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="61">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="62">
                                    <a:s>&quot;Hemorrhagic Stroke&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        or </a:s>
                              <a:s r="67">
                                 <a:s r="65">
                                    <a:s r="64">
                                       <a:s>EncPrincipalDx</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="65">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="66">
                                    <a:s>&quot;Ischemic Stroke&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="70" locator="60:3-66:7" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="45" locator="60:3-60:57" alias="NonElectiveEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="44" locator="60:3-60:36" name="Non Elective Inpatient Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="49" locator="61:9-61:73" resultTypeName="fhir:Condition" identifier="EncPrincipalDx">
               <expression localId="48" locator="61:25-61:73" resultTypeName="fhir:Condition" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                  <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="47" locator="61:53-61:72" resultTypeName="fhir:Encounter" name="NonElectiveEncounter" xsi:type="AliasRef"/>
               </expression>
            </let>
            <where localId="69" locator="62:5-66:7" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="59" locator="62:11-63:70" resultTypeName="t:Boolean" xsi:type="And">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="53" locator="62:11-62:50" resultTypeName="t:Boolean" xsi:type="Equivalent">
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="51" locator="62:11-62:37" resultTypeName="fhir:EncounterStatus" path="value" xsi:type="Property">
                        <source path="status" scope="NonElectiveEncounter" xsi:type="Property"/>
                     </operand>
                     <operand localId="52" locator="62:41-62:50" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
                  </operand>
                  <operand localId="58" locator="63:11-63:70" resultTypeName="t:Boolean" xsi:type="Equivalent">
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="55" locator="63:11-63:43" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand path="verificationStatus" xsi:type="Property">
                           <source localId="54" locator="63:11-63:24" resultTypeName="fhir:Condition" name="EncPrincipalDx" xsi:type="QueryLetRef"/>
                        </operand>
                     </operand>
                     <operand xsi:type="ToConcept">
                        <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="57" locator="63:47-63:70" resultTypeName="t:Code" name="confirmed" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="68" locator="64:11-66:7" resultTypeName="t:Boolean" xsi:type="Or">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="63" locator="64:12-64:54" resultTypeName="t:Boolean" xsi:type="InValueSet">
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <code localId="61" locator="64:12-64:30" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand path="code" xsi:type="Property">
                           <source localId="60" locator="64:12-64:25" resultTypeName="fhir:Condition" name="EncPrincipalDx" xsi:type="QueryLetRef"/>
                        </operand>
                     </code>
                     <valueset localId="62" locator="64:35-64:54" resultTypeName="t:ValueSet" name="Hemorrhagic Stroke" preserve="true"/>
                  </operand>
                  <operand localId="67" locator="65:12-65:51" resultTypeName="t:Boolean" xsi:type="InValueSet">
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <code localId="65" locator="65:12-65:30" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand path="code" xsi:type="Property">
                           <source localId="64" locator="65:12-65:25" resultTypeName="fhir:Condition" name="EncPrincipalDx" xsi:type="QueryLetRef"/>
                        </operand>
                     </code>
                     <valueset localId="66" locator="65:35-65:51" resultTypeName="t:ValueSet" name="Ischemic Stroke" preserve="true"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="84" locator="47:1-49:105" name="Encounter with Principal Diagnosis and Age" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="84">
               <a:s>//ORIG TJC.&quot;Encounter with Principal Diagnosis and Age&quot;   

// PJM - fix for AgeInYearsAt issue
//FIX current problem with AgeInYearsAt required a modified approach - refer to https://github.com/cqframework/ecqm-content-qicore-2022/issues/6
define &quot;Encounter with Principal Diagnosis and Age&quot;:
  </a:s>
               <a:s r="83">
                  <a:s>
                     <a:s r="73">
                        <a:s r="72">
                           <a:s>
                              <a:s>&quot;All Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AllStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="82">
                     <a:s>where </a:s>
                     <a:s r="82">
                        <a:s r="80">
                           <a:s>CalculateAgeInYearsAt ( </a:s>
                           <a:s r="75">
                              <a:s r="74">
                                 <a:s>Patient</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="75">
                                 <a:s>birthDate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="79">
                              <a:s>date from </a:s>
                              <a:s r="78">
                                 <a:s>start of </a:s>
                                 <a:s r="77">
                                    <a:s r="76">
                                       <a:s>AllStrokeEncounter</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="77">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s r="81"> >= 18</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="83" locator="48:3-49:105" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="73" locator="48:3-48:43" alias="AllStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="72" locator="48:3-48:24" name="All Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="82" locator="49:5-49:105" resultTypeName="t:Boolean" xsi:type="GreaterOrEqual">
               <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="80" locator="49:11-49:99" resultTypeName="t:Integer" precision="Year" xsi:type="CalculateAgeAt">
                  <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="75" locator="49:35-49:51" resultTypeName="t:Date" path="value" xsi:type="Property">
                     <source path="birthDate" xsi:type="Property">
                        <source localId="74" locator="49:35-49:41" resultTypeName="fhir:Patient" name="Patient" xsi:type="ExpressionRef"/>
                     </source>
                  </operand>
                  <operand localId="79" locator="49:54-49:97" resultTypeName="t:Date" xsi:type="DateFrom">
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="78" locator="49:64-49:97" resultTypeName="t:DateTime" xsi:type="Start">
                        <signature xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="77" locator="49:73-49:97" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <operand path="period" scope="AllStrokeEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
               <operand localId="81" locator="49:104-49:105" resultTypeName="t:Integer" valueType="t:Integer" value="18" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="86" locator="41:1-42:46" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="86">
               <a:s>define &quot;Initial Population&quot;:
  </a:s>
               <a:s r="85">
                  <a:s>&quot;Encounter with Principal Diagnosis and Age&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="85" locator="42:3-42:46" name="Encounter with Principal Diagnosis and Age" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="103" locator="72:1-76:51" name="Ischemic Stroke Encounter" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="103">
               <a:s>//TJCOverall
define &quot;Ischemic Stroke Encounter&quot;:
  </a:s>
               <a:s r="102">
                  <a:s>
                     <a:s r="88">
                        <a:s r="87">
                           <a:s>
                              <a:s>&quot;Encounter with Principal Diagnosis and Age&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EncounterWithAge</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="92">
                        <a:s>EncPrincipalDx: </a:s>
                        <a:s r="91">
                           <a:s r="89">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="91">
                              <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                              <a:s r="90">
                                 <a:s>EncounterWithAge</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
     </a:s>
                  <a:s r="101">
                     <a:s>where </a:s>
                     <a:s r="101">
                        <a:s r="96">
                           <a:s r="94">
                              <a:s r="93">
                                 <a:s>EncounterWithAge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="94">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="95">
                              <a:s>'finished'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
       and </a:s>
                        <a:s r="100">
                           <a:s r="98">
                              <a:s r="97">
                                 <a:s>EncPrincipalDx</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="98">
                                 <a:s>code</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="99">
                              <a:s>&quot;Ischemic Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="102" locator="73:3-76:51" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="88" locator="73:3-73:63" alias="EncounterWithAge">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="87" locator="73:3-73:46" name="Encounter with Principal Diagnosis and Age" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="92" locator="74:9-74:69" resultTypeName="fhir:Condition" identifier="EncPrincipalDx">
               <expression localId="91" locator="74:25-74:69" resultTypeName="fhir:Condition" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                  <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="90" locator="74:53-74:68" resultTypeName="fhir:Encounter" name="EncounterWithAge" xsi:type="AliasRef"/>
               </expression>
            </let>
            <where localId="101" locator="75:6-76:51" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="96" locator="75:12-75:47" resultTypeName="t:Boolean" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="94" locator="75:12-75:34" resultTypeName="fhir:EncounterStatus" path="value" xsi:type="Property">
                     <source path="status" scope="EncounterWithAge" xsi:type="Property"/>
                  </operand>
                  <operand localId="95" locator="75:38-75:47" resultTypeName="t:String" valueType="t:String" value="finished" xsi:type="Literal"/>
               </operand>
               <operand localId="100" locator="76:12-76:51" resultTypeName="t:Boolean" xsi:type="InValueSet">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <code localId="98" locator="76:12-76:30" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand path="code" xsi:type="Property">
                        <source localId="97" locator="76:12-76:25" resultTypeName="fhir:Condition" name="EncPrincipalDx" xsi:type="QueryLetRef"/>
                     </operand>
                  </code>
                  <valueset localId="99" locator="76:35-76:51" resultTypeName="t:ValueSet" name="Ischemic Stroke" preserve="true"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="105" locator="68:1-69:29" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="105">
               <a:s>define &quot;Denominator&quot;:
  </a:s>
               <a:s r="104">
                  <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="104" locator="69:3-69:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="132" locator="91:1-98:83" name="Ischemic Stroke Encounters with Discharge Disposition" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="132">
               <a:s>/*Original before QICore
define &quot;Denominator Exclusions&quot;:
  TJC.&quot;Ischemic Stroke Encounters with Discharge Disposition&quot;
    union TJC.&quot;Encounter with Comfort Measures during Hospitalization&quot;
*/

//TJCOveralldefine &quot;Ischemic Stroke Encounters with Discharge Disposition&quot;:
  </a:s>
               <a:s r="131">
                  <a:s>
                     <a:s r="107">
                        <a:s r="106">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="111">
                        <a:s>EncDischDisp: </a:s>
                        <a:s r="110">
                           <a:s r="109">
                              <a:s r="108">
                                 <a:s>IschemicStrokeEncounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="109">
                                 <a:s>hospitalization</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="110">
                              <a:s>dischargeDisposition</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
        </a:s>
                  <a:s r="130">
                     <a:s>where </a:s>
                     <a:s r="130">
                        <a:s r="126">
                           <a:s r="122">
                              <a:s r="118">
                                 <a:s r="114">
                                    <a:s r="112">
                                       <a:s>EncDischDisp</a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="113">
                                       <a:s>&quot;Discharge To Acute Care Facility&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
           or </a:s>
                                 <a:s r="117">
                                    <a:s r="115">
                                       <a:s>EncDischDisp</a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="116">
                                       <a:s>&quot;Left Against Medical Advice&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
           or </a:s>
                              <a:s r="121">
                                 <a:s r="119">
                                    <a:s>EncDischDisp</a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="120">
                                    <a:s>&quot;Patient Expired&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
           or </a:s>
                           <a:s r="125">
                              <a:s r="123">
                                 <a:s>EncDischDisp</a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="124">
                                 <a:s>&quot;Discharged to Home for Hospice Care&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
           or </a:s>
                        <a:s r="129">
                           <a:s r="127">
                              <a:s>EncDischDisp</a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="128">
                              <a:s>&quot;Discharged to Health Care Facility for Hospice Care&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="131" locator="92:3-98:83" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="107" locator="92:3-92:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="106" locator="92:3-92:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="111" locator="93:9-93:82" resultTypeName="t:Concept" identifier="EncDischDisp">
               <expression localId="110" locator="93:23-93:82" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand path="dischargeDisposition" xsi:type="Property">
                     <source localId="109" locator="93:23-93:61" resultTypeName="fhir:Encounter.Hospitalization" path="hospitalization" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                  </operand>
               </expression>
            </let>
            <where localId="130" locator="94:9-98:83" resultTypeName="t:Boolean" xsi:type="Or">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="126" locator="94:15-97:67" resultTypeName="t:Boolean" xsi:type="Or">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="122" locator="94:15-96:47" resultTypeName="t:Boolean" xsi:type="Or">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="118" locator="94:15-95:59" resultTypeName="t:Boolean" xsi:type="Or">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="114" locator="94:15-94:64" resultTypeName="t:Boolean" xsi:type="InValueSet">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <code localId="112" locator="94:15-94:26" resultTypeName="t:Concept" name="EncDischDisp" xsi:type="QueryLetRef"/>
                           <valueset localId="113" locator="94:31-94:64" resultTypeName="t:ValueSet" name="Discharge To Acute Care Facility" preserve="true"/>
                        </operand>
                        <operand localId="117" locator="95:15-95:59" resultTypeName="t:Boolean" xsi:type="InValueSet">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <code localId="115" locator="95:15-95:26" resultTypeName="t:Concept" name="EncDischDisp" xsi:type="QueryLetRef"/>
                           <valueset localId="116" locator="95:31-95:59" resultTypeName="t:ValueSet" name="Left Against Medical Advice" preserve="true"/>
                        </operand>
                     </operand>
                     <operand localId="121" locator="96:15-96:47" resultTypeName="t:Boolean" xsi:type="InValueSet">
                        <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <code localId="119" locator="96:15-96:26" resultTypeName="t:Concept" name="EncDischDisp" xsi:type="QueryLetRef"/>
                        <valueset localId="120" locator="96:31-96:47" resultTypeName="t:ValueSet" name="Patient Expired" preserve="true"/>
                     </operand>
                  </operand>
                  <operand localId="125" locator="97:15-97:67" resultTypeName="t:Boolean" xsi:type="InValueSet">
                     <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <code localId="123" locator="97:15-97:26" resultTypeName="t:Concept" name="EncDischDisp" xsi:type="QueryLetRef"/>
                     <valueset localId="124" locator="97:31-97:67" resultTypeName="t:ValueSet" name="Discharged to Home for Hospice Care" preserve="true"/>
                  </operand>
               </operand>
               <operand localId="129" locator="98:15-98:83" resultTypeName="t:Boolean" xsi:type="InValueSet">
                  <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  <code localId="127" locator="98:15-98:26" resultTypeName="t:Concept" name="EncDischDisp" xsi:type="QueryLetRef"/>
                  <valueset localId="128" locator="98:31-98:83" resultTypeName="t:ValueSet" name="Discharged to Health Care Facility for Hospice Care" preserve="true"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="145" locator="154:1-157:3" name="Intervention Comfort Measures Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="145">
               <a:s>define &quot;Intervention Comfort Measures Procedure&quot;:
  </a:s>
               <a:s r="144">
                  <a:s>( </a:s>
                  <a:s r="144">
                     <a:s>
                        <a:s r="137">
                           <a:s r="136">
                              <a:s r="136">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Comfort Measures&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> InterventionPerformed</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
        </a:s>
                     <a:s r="143">
                        <a:s>where </a:s>
                        <a:s r="143">
                           <a:s r="139">
                              <a:s r="138">
                                 <a:s>InterventionPerformed</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="139">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="142">
                              <a:s>{ </a:s>
                              <a:s r="140">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="141">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="144" locator="155:3-157:3" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="137" locator="155:5-155:59" alias="InterventionPerformed">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="136" locator="155:5-155:37" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="155:19-155:36" resultTypeName="t:ValueSet" name="Comfort Measures" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="143" locator="156:9-156:76" resultTypeName="t:Boolean" xsi:type="In">
               <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
               <signature xsi:type="ListTypeSpecifier">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="139" locator="156:15-156:42" resultTypeName="t:String" path="value" xsi:type="Property">
                  <source path="status" scope="InterventionPerformed" xsi:type="Property"/>
               </operand>
               <operand localId="142" locator="156:47-156:76" xsi:type="List">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <element localId="140" locator="156:49-156:59" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                  <element localId="141" locator="156:62-156:74" resultTypeName="t:String" valueType="t:String" value="in-progress" xsi:type="Literal"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="159" locator="126:1-129:150" name="Encounter with Comfort Measure Procedure during Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="159">
               <a:s>/*Original before QICore...Note: This is not used, could not get coalesce to work...instead split (see below)
define &quot;Encounter with Comfort Measures during Hospitalization&quot;:
  &quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter
          with &quot;Intervention Comfort Measures&quot; ComfortMeasure
              such that Coalesce((start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed)), ComfortMeasure.authoredOn)during Global.&quot;HospitalizationWithObservation&quot; ( IschemicStrokeEncounter )
*/

//Note: Below does not have 'as dateTime' after performed because it errored, and tried many variationsdefine &quot;Encounter with Comfort Measure Procedure during Hospitalization&quot;:
  </a:s>
               <a:s r="158">
                  <a:s>
                     <a:s r="135">
                        <a:s r="134">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="157">
                     <a:s>with </a:s>
                     <a:s r="147">
                        <a:s r="146">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures Procedure&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>
     such that </a:s>
                     <a:s r="156">
                        <a:s r="152">
                           <a:s>start of </a:s>
                           <a:s r="151">
                              <a:s r="148">
                                 <a:s>QICoreCommon</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="151">
                                 <a:s>&quot;ToInterval&quot;(</a:s>
                                 <a:s r="150">
                                    <a:s r="149">
                                       <a:s>ComfortMeasure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="150">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s r="156"> during </a:s>
                        <a:s r="155">
                           <a:s r="153">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="155">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="154">
                                 <a:s>IschemicStrokeEncounter</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="158" locator="127:3-129:150" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="135" locator="127:3-127:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="134" locator="127:3-127:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="157" locator="128:5-129:150" alias="ComfortMeasure" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="146" locator="128:10-128:50" name="Intervention Comfort Measures Procedure" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="156" locator="129:16-129:150" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="152" locator="129:16-129:75" resultTypeName="t:DateTime" xsi:type="Start">
                     <signature xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="151" locator="129:25-129:75" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <signature xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </signature>
                        <operand localId="150" locator="129:51-129:74" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </resultTypeSpecifier>
                           <operand path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="155" locator="129:84-129:150" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="154" locator="129:126-129:148" resultTypeName="fhir:Encounter" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="179" locator="148:1-152:3" name="Intervention Comfort Measures ServiceRequest" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="179">
               <a:s>//Instead split ServiceRequest and Procedure into two different definitions
define &quot;Intervention Comfort Measures ServiceRequest&quot;:
  </a:s>
               <a:s r="178">
                  <a:s>( </a:s>
                  <a:s r="178">
                     <a:s>
                        <a:s r="165">
                           <a:s r="164">
                              <a:s r="164">
                                 <a:s>[&quot;ServiceRequest&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Comfort Measures&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> P</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
      </a:s>
                     <a:s r="177">
                        <a:s>where </a:s>
                        <a:s r="177">
                           <a:s r="169">
                              <a:s r="167">
                                 <a:s r="166">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="167">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="168">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
       and </a:s>
                           <a:s r="176">
                              <a:s r="171">
                                 <a:s r="170">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="171">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="175">
                                 <a:s>{ </a:s>
                                 <a:s r="172">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="173">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="174">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s>}</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  )</a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="178" locator="149:3-152:3" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="165" locator="149:5-149:44" alias="P">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="164" locator="149:5-149:42" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" codeProperty="type" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="149:24-149:41" resultTypeName="t:ValueSet" name="Comfort Measures" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="177" locator="150:7-151:58" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="169" locator="150:13-150:30" resultTypeName="t:Boolean" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="167" locator="150:13-150:20" resultTypeName="fhir:ServiceRequestIntent" path="value" xsi:type="Property">
                     <source path="intent" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="168" locator="150:24-150:30" resultTypeName="t:String" valueType="t:String" value="order" xsi:type="Literal"/>
               </operand>
               <operand localId="176" locator="151:12-151:58" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="ListTypeSpecifier">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="171" locator="151:12-151:19" resultTypeName="fhir:ServiceRequestStatus" path="value" xsi:type="Property">
                     <source path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="175" locator="151:24-151:58" xsi:type="List">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <element localId="172" locator="151:26-151:33" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                     <element localId="173" locator="151:36-151:44" resultTypeName="t:String" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="174" locator="151:47-151:57" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="190" locator="131:1-134:115" name="Encounter with Comfort Measure ServiceRequest during Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="190">
               <a:s>define &quot;Encounter with Comfort Measure ServiceRequest during Hospitalization&quot;:
  </a:s>
               <a:s r="189">
                  <a:s>
                     <a:s r="163">
                        <a:s r="162">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="188">
                     <a:s>with </a:s>
                     <a:s r="181">
                        <a:s r="180">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures ServiceRequest&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>
     such that </a:s>
                     <a:s r="187">
                        <a:s r="183">
                           <a:s r="182">
                              <a:s>ComfortMeasure</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="183">
                              <a:s>authoredOn</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="187"> during </a:s>
                        <a:s r="186">
                           <a:s r="184">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="186">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="185">
                                 <a:s>IschemicStrokeEncounter</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="189" locator="132:3-134:115" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="163" locator="132:3-132:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="162" locator="132:3-132:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="188" locator="133:5-134:115" alias="ComfortMeasure" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="180" locator="133:10-133:55" name="Intervention Comfort Measures ServiceRequest" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="187" locator="134:16-134:115" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="183" locator="134:16-134:40" resultTypeName="t:DateTime" path="value" xsi:type="Property">
                     <source path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                  </operand>
                  <operand localId="186" locator="134:49-134:115" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="185" locator="134:91-134:113" resultTypeName="fhir:Encounter" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="193" locator="80:1-83:80" name="Denominator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="193">
               <a:s>//TJCOverall
//See if can work old way after Bryn gets Coalesce to work
define &quot;Denominator Exclusions&quot;:
  </a:s>
               <a:s r="192">
                  <a:s r="161">
                     <a:s r="133">
                        <a:s>&quot;Ischemic Stroke Encounters with Discharge Disposition&quot;</a:s>
                     </a:s>
                     <a:s>
    union </a:s>
                     <a:s r="160">
                        <a:s>&quot;Encounter with Comfort Measure Procedure during Hospitalization&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    union </a:s>
                  <a:s r="191">
                     <a:s>&quot;Encounter with Comfort Measure ServiceRequest during Hospitalization&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="192" locator="81:3-83:80" xsi:type="Union">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="161" locator="81:3-82:75" xsi:type="Union">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <signature xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <signature xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </signature>
               <operand localId="133" locator="81:3-81:57" name="Ischemic Stroke Encounters with Discharge Disposition" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
               <operand localId="160" locator="82:11-82:75" name="Encounter with Comfort Measure Procedure during Hospitalization" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </operand>
            </operand>
            <operand localId="191" locator="83:11-83:80" name="Encounter with Comfort Measure ServiceRequest during Hospitalization" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="221" locator="138:1-145:5" name="Intervention Comfort Measures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="221">
               <a:s>//TJCOverall
//Note: Below is not used because could not get coalesce to work in &quot;Encounter with Comfort Measures during Hospitalization&quot;
define &quot;Intervention Comfort Measures&quot;:
  </a:s>
               <a:s r="220">
                  <a:s r="210">
                     <a:s>( </a:s>
                     <a:s r="210">
                        <a:s>
                           <a:s r="197">
                              <a:s r="196">
                                 <a:s r="196">
                                    <a:s>[&quot;ServiceRequest&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> P</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="209">
                           <a:s>where </a:s>
                           <a:s r="209">
                              <a:s r="201">
                                 <a:s r="199">
                                    <a:s r="198">
                                       <a:s>P</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="199">
                                       <a:s>intent</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="200">
                                    <a:s>'order'</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
       and </a:s>
                              <a:s r="208">
                                 <a:s r="203">
                                    <a:s r="202">
                                       <a:s>P</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="203">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="207">
                                    <a:s>{ </a:s>
                                    <a:s r="204">
                                       <a:s>'active'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="205">
                                       <a:s>'on-hold'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="206">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                    <a:s>}</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
                  <a:s>
    union </a:s>
                  <a:s r="219">
                     <a:s>( </a:s>
                     <a:s r="219">
                        <a:s>
                           <a:s r="212">
                              <a:s r="211">
                                 <a:s r="211">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InterventionPerformed</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        </a:s>
                        <a:s r="218">
                           <a:s>where </a:s>
                           <a:s r="218">
                              <a:s r="214">
                                 <a:s r="213">
                                    <a:s>InterventionPerformed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="214">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="217">
                                 <a:s>{ </a:s>
                                 <a:s r="215">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="216">
                                    <a:s>'in-progress'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="ChoiceTypeSpecifier">
               <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
               <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="220" locator="139:3-145:5" xsi:type="Union">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="ChoiceTypeSpecifier">
                  <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </resultTypeSpecifier>
            <signature xsi:type="ListTypeSpecifier">
               <elementType xsi:type="ChoiceTypeSpecifier">
                  <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </signature>
            <signature xsi:type="ListTypeSpecifier">
               <elementType xsi:type="ChoiceTypeSpecifier">
                  <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </signature>
            <operand xsi:type="As">
               <operand localId="210" locator="139:3-142:3" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="197" locator="139:5-139:44" alias="P">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="196" locator="139:5-139:42" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" codeProperty="type" codeComparator="in" xsi:type="Retrieve">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <codes locator="139:24-139:41" resultTypeName="t:ValueSet" name="Comfort Measures" preserve="true" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="209" locator="140:7-141:58" resultTypeName="t:Boolean" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="201" locator="140:13-140:30" resultTypeName="t:Boolean" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="199" locator="140:13-140:20" resultTypeName="fhir:ServiceRequestIntent" path="value" xsi:type="Property">
                           <source path="intent" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="200" locator="140:24-140:30" resultTypeName="t:String" valueType="t:String" value="order" xsi:type="Literal"/>
                     </operand>
                     <operand localId="208" locator="141:12-141:58" resultTypeName="t:Boolean" xsi:type="In">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="203" locator="141:12-141:19" resultTypeName="fhir:ServiceRequestStatus" path="value" xsi:type="Property">
                           <source path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="207" locator="141:24-141:58" xsi:type="List">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <element localId="204" locator="141:26-141:33" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                           <element localId="205" locator="141:36-141:44" resultTypeName="t:String" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="206" locator="141:47-141:57" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="219" locator="143:11-145:5" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="212" locator="143:13-143:67" alias="InterventionPerformed">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="211" locator="143:13-143:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <codes locator="143:27-143:44" resultTypeName="t:ValueSet" name="Comfort Measures" preserve="true" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="218" locator="144:9-144:76" resultTypeName="t:Boolean" xsi:type="In">
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="214" locator="144:15-144:42" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="status" scope="InterventionPerformed" xsi:type="Property"/>
                     </operand>
                     <operand localId="217" locator="144:47-144:76" xsi:type="List">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <element localId="215" locator="144:49-144:59" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                        <element localId="216" locator="144:62-144:74" resultTypeName="t:String" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="257" locator="100:1-110:6" name="DISPLAY Comfort Measures during Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="257">
               <a:s>define &quot;DISPLAY Comfort Measures during Hospitalization&quot;:
  </a:s>
               <a:s r="256">
                  <a:s>
                     <a:s r="195">
                        <a:s r="194">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="255">
                        <a:s>ComfortMeasure: </a:s>
                        <a:s r="254">
                           <a:s>
                              <a:s r="223">
                                 <a:s r="222">
                                    <a:s>
                                       <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ComfortMeasure</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
       </a:s>
                           <a:s r="232">
                              <a:s>where </a:s>
                              <a:s r="232">
                                 <a:s r="228">
                                    <a:s>Coalesce(</a:s>
                                    <a:s r="225">
                                       <a:s r="224">
                                          <a:s>ComfortMeasure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="225">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="227">
                                       <a:s r="226">
                                          <a:s>ComfortMeasure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="227">
                                          <a:s>authoredOn</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s r="232"> during </a:s>
                                 <a:s r="231">
                                    <a:s r="229">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="231">
                                       <a:s>&quot;HospitalizationWithObservation&quot;(</a:s>
                                       <a:s r="230">
                                          <a:s>IschemicStrokeEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
     </a:s>
                           <a:s r="253">
                              <a:s>return </a:s>
                              <a:s r="252">
                                 <a:s>Tuple {
       </a:s>
                                 <a:s>
                                    <a:s>comfMeasPerformed: </a:s>
                                    <a:s r="234">
                                       <a:s r="233">
                                          <a:s>ComfortMeasure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="234">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
       </a:s>
                                 <a:s>
                                    <a:s>comfmeasPerfToInt: </a:s>
                                    <a:s r="238">
                                       <a:s r="235">
                                          <a:s>QICoreCommon</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="238">
                                          <a:s>&quot;ToInterval&quot;(</a:s>
                                          <a:s r="237">
                                             <a:s r="236">
                                                <a:s>ComfortMeasure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="237">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
       </a:s>
                                 <a:s>
                                    <a:s>comfMeasAuthoredOn: </a:s>
                                    <a:s r="240">
                                       <a:s r="239">
                                          <a:s>ComfortMeasure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="240">
                                          <a:s>authoredOn</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
       </a:s>
                                 <a:s>
                                    <a:s>comfMeasCoalesce: </a:s>
                                    <a:s r="248">
                                       <a:s>Coalesce(</a:s>
                                       <a:s r="245">
                                          <a:s>(</a:s>
                                          <a:s r="245">
                                             <a:s>start of </a:s>
                                             <a:s r="244">
                                                <a:s r="241">
                                                   <a:s>QICoreCommon</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="244">
                                                   <a:s>&quot;ToInterval&quot;(</a:s>
                                                   <a:s r="243">
                                                      <a:s r="242">
                                                         <a:s>ComfortMeasure</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="243">
                                                         <a:s>performed</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="247">
                                          <a:s r="246">
                                             <a:s>ComfortMeasure</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="247">
                                             <a:s>authoredOn</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,
       </a:s>
                                 <a:s>
                                    <a:s>hospitalization: </a:s>
                                    <a:s r="251">
                                       <a:s r="249">
                                          <a:s>Global</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="251">
                                          <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                                          <a:s r="250">
                                             <a:s>IschemicStrokeEncounter</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
     }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="256" locator="101:3-110:6" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="195" locator="101:3-101:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="194" locator="101:3-101:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="255" locator="102:9-110:6" identifier="ComfortMeasure">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="comfMeasPerformed">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </choice>
                        </elementType>
                     </element>
                     <element name="comfmeasPerfToInt">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="comfMeasAuthoredOn">
                        <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="comfMeasCoalesce">
                        <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="hospitalization">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="254" locator="102:25-110:6" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="comfMeasPerformed">
                           <elementType xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </elementType>
                        </element>
                        <element name="comfmeasPerfToInt">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                        <element name="comfMeasAuthoredOn">
                           <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="comfMeasCoalesce">
                           <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="hospitalization">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="223" locator="102:25-102:70" alias="ComfortMeasure">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="222" locator="102:25-102:55" name="Intervention Comfort Measures" xsi:type="ExpressionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="232" locator="103:8-103:146" resultTypeName="t:Boolean" xsi:type="In">
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <signature xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="228" locator="103:14-103:74" resultTypeName="t:DateTime" xsi:type="Coalesce">
                        <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        <operand asType="t:DateTime" xsi:type="As">
                           <operand localId="225" locator="103:23-103:46" path="FHIRHelpers.ToValue(%value)" scope="ComfortMeasure" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="227" locator="103:49-103:73" resultTypeName="t:DateTime" path="%value.value" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                     <operand localId="231" locator="103:83-103:146" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="230" locator="103:123-103:145" resultTypeName="fhir:Encounter" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                     </operand>
                  </where>
                  <return localId="253" locator="104:6-110:6">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="comfMeasPerformed">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </elementType>
                           </element>
                           <element name="comfmeasPerfToInt">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="comfMeasAuthoredOn">
                              <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="comfMeasCoalesce">
                              <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hospitalization">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="252" locator="104:13-110:6" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="comfMeasPerformed">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </elementType>
                           </element>
                           <element name="comfmeasPerfToInt">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                           <element name="comfMeasAuthoredOn">
                              <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="comfMeasCoalesce">
                              <elementType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="hospitalization">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </element>
                        </resultTypeSpecifier>
                        <element name="comfMeasPerformed">
                           <value localId="234" locator="105:27-105:50" path="FHIRHelpers.ToValue(%value)" scope="ComfortMeasure" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                           </value>
                        </element>
                        <element name="comfmeasPerfToInt">
                           <value localId="238" locator="106:27-106:77" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <signature xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </signature>
                              <operand localId="237" locator="106:53-106:76" path="FHIRHelpers.ToValue(%value)" scope="ComfortMeasure" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </choice>
                                 </resultTypeSpecifier>
                              </operand>
                           </value>
                        </element>
                        <element name="comfMeasAuthoredOn">
                           <value localId="240" locator="107:28-107:52" resultTypeName="t:DateTime" path="%value.value" scope="ComfortMeasure" xsi:type="Property"/>
                        </element>
                        <element name="comfMeasCoalesce">
                           <value localId="248" locator="108:26-108:124" resultTypeName="t:DateTime" xsi:type="Coalesce">
                              <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="245" locator="108:35-108:96" resultTypeName="t:DateTime" xsi:type="Start">
                                 <signature xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </signature>
                                 <operand localId="244" locator="108:45-108:95" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                                    <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <signature xsi:type="ChoiceTypeSpecifier">
                                       <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                       <choice xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                                       </choice>
                                    </signature>
                                    <operand localId="243" locator="108:71-108:94" path="FHIRHelpers.ToValue(%value)" scope="ComfortMeasure" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                          <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          <choice xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </choice>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="247" locator="108:99-108:123" resultTypeName="t:DateTime" path="%value.value" scope="ComfortMeasure" xsi:type="Property"/>
                           </value>
                        </element>
                        <element name="hospitalization">
                           <value localId="251" locator="109:25-109:91" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="250" locator="109:67-109:89" resultTypeName="fhir:Encounter" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                           </value>
                        </element>
                     </expression>
                  </return>
               </expression>
            </let>
         </expression>
      </def>
      <def localId="276" locator="114:1-117:189" name="Encounter with Comfort Measures during Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="276">
               <a:s>//TJCOverall - needs Coalesce fix
define &quot;Encounter with Comfort Measures during Hospitalization&quot;:
  </a:s>
               <a:s r="275">
                  <a:s>
                     <a:s r="259">
                        <a:s r="258">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="274">
                     <a:s>with </a:s>
                     <a:s r="261">
                        <a:s r="260">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>
     such that </a:s>
                     <a:s r="273">
                        <a:s r="269">
                           <a:s>Coalesce(</a:s>
                           <a:s r="266">
                              <a:s>(</a:s>
                              <a:s r="266">
                                 <a:s>start of </a:s>
                                 <a:s r="265">
                                    <a:s r="262">
                                       <a:s>QICoreCommon</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="265">
                                       <a:s>&quot;ToInterval&quot;(</a:s>
                                       <a:s r="264">
                                          <a:s r="263">
                                             <a:s>ComfortMeasure</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="264">
                                             <a:s>performed</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="268">
                              <a:s r="267">
                                 <a:s>ComfortMeasure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="268">
                                 <a:s>authoredOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="273"> during </a:s>
                        <a:s r="272">
                           <a:s r="270">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="272">
                              <a:s>&quot;HospitalizationWithObservation&quot; ( </a:s>
                              <a:s r="271">
                                 <a:s>IschemicStrokeEncounter</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="275" locator="115:3-117:189" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="259" locator="115:3-115:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="258" locator="115:3-115:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="274" locator="116:5-117:189" alias="ComfortMeasure" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="260" locator="116:10-116:40" name="Intervention Comfort Measures" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="ChoiceTypeSpecifier">
                        <choice name="fhir:ServiceRequest" xsi:type="NamedTypeSpecifier"/>
                        <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="273" locator="117:16-117:189" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="269" locator="117:16-117:114" resultTypeName="t:DateTime" xsi:type="Coalesce">
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="266" locator="117:25-117:86" resultTypeName="t:DateTime" xsi:type="Start">
                        <signature xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="265" locator="117:35-117:85" name="ToInterval" libraryName="QICoreCommon" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <signature xsi:type="ChoiceTypeSpecifier">
                              <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              <choice name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                              <choice xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                              </choice>
                           </signature>
                           <operand localId="264" locator="117:61-117:84" path="FHIRHelpers.ToValue(%value)" scope="ComfortMeasure" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </choice>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="268" locator="117:89-117:113" resultTypeName="t:DateTime" path="%value.value" scope="ComfortMeasure" xsi:type="Property"/>
                  </operand>
                  <operand localId="272" locator="117:123-117:189" name="HospitalizationWithObservation" libraryName="Global" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <signature name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="271" locator="117:165-117:187" resultTypeName="fhir:Encounter" name="IschemicStrokeEncounter" xsi:type="AliasRef"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="311" locator="166:1-173:9" name="Antithrombotic Therapy at Discharge" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="311">
               <a:s>//Note: QICore manual says to constrain status to 'active' and category to 'Community' and does not mention intent.
//      ask Yanyan if should follow that or what is below.
define &quot;Antithrombotic Therapy at Discharge&quot;:
  </a:s>
               <a:s r="310">
                  <a:s>
                     <a:s r="280">
                        <a:s r="279">
                           <a:s r="279">
                              <a:s>[&quot;MedicationRequest&quot;: </a:s>
                              <a:s>
                                 <a:s>medication</a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s>
                                 <a:s>&quot;Antithrombotic Therapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Antithrombotic</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
      </a:s>
                  <a:s r="309">
                     <a:s>where </a:s>
                     <a:s r="309">
                        <a:s r="295">
                           <a:s r="290">
                              <a:s r="283">
                                 <a:s r="282">
                                    <a:s r="281">
                                       <a:s>Antithrombotic</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="282">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is not true</a:s>
                              </a:s>
                              <a:s>
        and </a:s>
                              <a:s r="289">
                                 <a:s r="285">
                                    <a:s r="284">
                                       <a:s>Antithrombotic</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="285">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="288">
                                    <a:s>{ </a:s>
                                    <a:s r="286">
                                       <a:s>'active'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="287">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                    <a:s> }</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
        and </a:s>
                           <a:s r="294">
                              <a:s r="292">
                                 <a:s r="291">
                                    <a:s>Antithrombotic</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="292">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="293">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="308">
                           <a:s>exists </a:s>
                           <a:s r="307">
                              <a:s>(</a:s>
                              <a:s r="307">
                                 <a:s>
                                    <a:s r="297">
                                       <a:s r="296">
                                          <a:s>
                                             <a:s>Antithrombotic.category</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> C</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
          </a:s>
                                 <a:s r="306">
                                    <a:s>where </a:s>
                                    <a:s r="306">
                                       <a:s r="301">
                                          <a:s r="298">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="300">
                                             <a:s r="299">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="300">
                                                <a:s>&quot;Discharge&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> or </a:s>
                                       <a:s r="305">
                                          <a:s r="302">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="304">
                                             <a:s r="303">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="304">
                                                <a:s>&quot;Community&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="310" locator="167:3-173:9" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="280" locator="167:3-167:78" alias="Antithrombotic">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="279" locator="167:3-167:63" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="167:39-167:62" resultTypeName="t:ValueSet" name="Antithrombotic Therapy" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="309" locator="168:7-173:9" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="295" locator="168:13-170:43" resultTypeName="t:Boolean" xsi:type="And">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="290" locator="168:13-169:62" resultTypeName="t:Boolean" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="283" locator="168:13-168:51" resultTypeName="t:Boolean" xsi:type="Not">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand locator="168:13-168:51" resultTypeName="t:Boolean" xsi:type="IsTrue">
                           <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="282" locator="168:13-168:39" resultTypeName="t:Boolean" path="value" xsi:type="Property">
                              <source path="doNotPerform" scope="Antithrombotic" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="289" locator="169:13-169:62" resultTypeName="t:Boolean" xsi:type="In">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="285" locator="169:13-169:33" resultTypeName="t:String" path="value" xsi:type="Property">
                           <source path="status" scope="Antithrombotic" xsi:type="Property"/>
                        </operand>
                        <operand localId="288" locator="169:38-169:62" xsi:type="List">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <element localId="286" locator="169:40-169:47" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                           <element localId="287" locator="169:50-169:60" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="294" locator="170:13-170:43" resultTypeName="t:Boolean" xsi:type="Equal">
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="292" locator="170:13-170:33" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="intent" scope="Antithrombotic" xsi:type="Property"/>
                     </operand>
                     <operand localId="293" locator="170:37-170:43" resultTypeName="t:String" valueType="t:String" value="order" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="308" locator="171:13-173:9" resultTypeName="t:Boolean" xsi:type="Exists">
                  <signature xsi:type="ListTypeSpecifier">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="307" locator="171:20-173:9" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="297" locator="171:21-171:45" alias="C">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="296" locator="171:21-171:43" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source alias="$this">
                              <expression path="category" scope="Antithrombotic" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </expression>
                     </source>
                     <where localId="306" locator="172:11-172:76" resultTypeName="t:Boolean" xsi:type="Or">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="301" locator="172:17-172:44" resultTypeName="t:Boolean" xsi:type="Equivalent">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="298" locator="172:17" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                           <operand xsi:type="ToConcept">
                              <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="300" locator="172:21-172:44" resultTypeName="t:Code" name="Discharge" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                        <operand localId="305" locator="172:49-172:76" resultTypeName="t:Boolean" xsi:type="Equivalent">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="302" locator="172:49" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                           <operand xsi:type="ToConcept">
                              <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="304" locator="172:53-172:76" resultTypeName="t:Code" name="Community" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="321" locator="159:1-162:88" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="321">
               <a:s>define &quot;Numerator&quot;:
  </a:s>
               <a:s r="320">
                  <a:s>
                     <a:s r="278">
                        <a:s r="277">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="319">
                     <a:s>with </a:s>
                     <a:s r="313">
                        <a:s r="312">
                           <a:s>
                              <a:s>&quot;Antithrombotic Therapy at Discharge&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DischargeAntithrombotic</a:s>
                     </a:s>
                     <a:s>
      such that </a:s>
                     <a:s r="318">
                        <a:s r="315">
                           <a:s r="314">
                              <a:s>DischargeAntithrombotic</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="315">
                              <a:s>authoredOn</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="318"> during </a:s>
                        <a:s r="317">
                           <a:s r="316">
                              <a:s>IschemicStrokeEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="317">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="320" locator="160:3-162:88" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="278" locator="160:3-160:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="277" locator="160:3-160:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="319" locator="161:5-162:88" alias="DischargeAntithrombotic" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="312" locator="161:10-161:46" name="Antithrombotic Therapy at Discharge" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="318" locator="162:17-162:88" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="315" locator="162:17-162:50" resultTypeName="t:DateTime" path="value" xsi:type="Property">
                     <source path="authoredOn" scope="DischargeAntithrombotic" xsi:type="Property"/>
                  </operand>
                  <operand localId="317" locator="162:59-162:88" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand path="period" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="366" locator="179:1-188:76" name="Reason for Not Giving Antithrombotic at Discharge" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="366">
               <a:s>define &quot;Reason for Not Giving Antithrombotic at Discharge&quot;:
  </a:s>
               <a:s r="365">
                  <a:s>
                     <a:s r="325">
                        <a:s r="324">
                           <a:s r="324">
                              <a:s>[&quot;MedicationRequest&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Antithrombotic Therapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoAntithromboticDischarge</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
      </a:s>
                  <a:s r="364">
                     <a:s>where </a:s>
                     <a:s r="364">
                        <a:s r="350">
                           <a:s r="345">
                              <a:s r="338">
                                 <a:s r="328">
                                    <a:s r="327">
                                       <a:s r="326">
                                          <a:s>NoAntithromboticDischarge</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="327">
                                          <a:s>doNotPerform</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is true</a:s>
                                 </a:s>
                                 <a:s>
        and </a:s>
                                 <a:s r="337">
                                    <a:s>( </a:s>
                                    <a:s r="337">
                                       <a:s r="332">
                                          <a:s r="330">
                                             <a:s r="329">
                                                <a:s>NoAntithromboticDischarge</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="330">
                                                <a:s>reasonCode</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="331">
                                             <a:s>&quot;Medical Reason&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
                or </a:s>
                                       <a:s r="336">
                                          <a:s r="334">
                                             <a:s r="333">
                                                <a:s>NoAntithromboticDischarge</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="334">
                                                <a:s>reasonCode</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="335">
                                             <a:s>&quot;Patient Refusal&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
            )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
        and </a:s>
                              <a:s r="344">
                                 <a:s r="340">
                                    <a:s r="339">
                                       <a:s>NoAntithromboticDischarge</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="340">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="343">
                                    <a:s>{ </a:s>
                                    <a:s r="341">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="342">
                                       <a:s>'cancelled'</a:s>
                                    </a:s>
                                    <a:s> }</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        and </a:s>
                           <a:s r="349">
                              <a:s r="347">
                                 <a:s r="346">
                                    <a:s>NoAntithromboticDischarge</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="347">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="348">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="363">
                           <a:s>exists </a:s>
                           <a:s r="362">
                              <a:s>(</a:s>
                              <a:s r="362">
                                 <a:s>
                                    <a:s r="352">
                                       <a:s r="351">
                                          <a:s>
                                             <a:s>NoAntithromboticDischarge.category</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> C</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> </a:s>
                                 <a:s r="361">
                                    <a:s>where 
                   </a:s>
                                    <a:s r="361">
                                       <a:s r="356">
                                          <a:s r="353">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="355">
                                             <a:s r="354">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="355">
                                                <a:s>Discharge</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> or </a:s>
                                       <a:s r="360">
                                          <a:s r="357">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s> ~ </a:s>
                                          <a:s r="359">
                                             <a:s r="358">
                                                <a:s>QICoreCommon</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="359">
                                                <a:s>Community</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="365" locator="180:3-188:76" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="325" locator="180:3-180:75" alias="NoAntithromboticDischarge">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="324" locator="180:3-180:49" xsi:type="Union">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <signature xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <signature xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="180:25-180:48" resultTypeName="t:ValueSet" name="Antithrombotic Therapy" preserve="true" xsi:type="ValueSetRef"/>
                  </operand>
                  <operand locator="180:3-180:49" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <codes locator="180:25-180:48" resultTypeName="t:ValueSet" name="Antithrombotic Therapy" preserve="true" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <where localId="364" locator="181:7-188:76" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="350" locator="181:13-186:54" resultTypeName="t:Boolean" xsi:type="And">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="345" locator="181:13-185:76" resultTypeName="t:Boolean" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="338" locator="181:13-184:13" resultTypeName="t:Boolean" xsi:type="And">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="328" locator="181:13-181:58" resultTypeName="t:Boolean" xsi:type="IsTrue">
                           <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="327" locator="181:13-181:50" resultTypeName="t:Boolean" path="value" xsi:type="Property">
                              <source path="doNotPerform" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="337" locator="182:13-184:13" resultTypeName="t:Boolean" xsi:type="Or">
                           <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="332" locator="182:15-182:70" resultTypeName="t:Boolean" xsi:type="AnyInValueSet">
                              <signature xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              </signature>
                              <codes localId="330" locator="182:15-182:50" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source alias="$this">
                                    <expression path="reasonCode" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                                 </source>
                                 <return distinct="false">
                                    <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </codes>
                              <valueset localId="331" locator="182:55-182:70" resultTypeName="t:ValueSet" name="Medical Reason" preserve="true"/>
                           </operand>
                           <operand localId="336" locator="183:20-183:76" resultTypeName="t:Boolean" xsi:type="AnyInValueSet">
                              <signature xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              </signature>
                              <codes localId="334" locator="183:20-183:55" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source alias="$this">
                                    <expression path="reasonCode" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                                 </source>
                                 <return distinct="false">
                                    <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </codes>
                              <valueset localId="335" locator="183:60-183:76" resultTypeName="t:ValueSet" name="Patient Refusal" preserve="true"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="344" locator="185:13-185:76" resultTypeName="t:Boolean" xsi:type="In">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="340" locator="185:13-185:44" resultTypeName="t:String" path="value" xsi:type="Property">
                           <source path="status" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                        </operand>
                        <operand localId="343" locator="185:49-185:76" xsi:type="List">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <element localId="341" locator="185:51-185:61" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                           <element localId="342" locator="185:64-185:74" resultTypeName="t:String" valueType="t:String" value="cancelled" xsi:type="Literal"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="349" locator="186:13-186:54" resultTypeName="t:Boolean" xsi:type="Equal">
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="347" locator="186:13-186:44" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="intent" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                     </operand>
                     <operand localId="348" locator="186:48-186:54" resultTypeName="t:String" valueType="t:String" value="order" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="363" locator="187:13-188:76" resultTypeName="t:Boolean" xsi:type="Exists">
                  <signature xsi:type="ListTypeSpecifier">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="362" locator="187:20-188:76" xsi:type="Query">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="352" locator="187:21-187:56" alias="C">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <expression localId="351" locator="187:21-187:54" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source alias="$this">
                              <expression path="category" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </expression>
                     </source>
                     <where localId="361" locator="187:58-188:75" resultTypeName="t:Boolean" xsi:type="Or">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="356" locator="188:20-188:45" resultTypeName="t:Boolean" xsi:type="Equivalent">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="353" locator="188:20" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                           <operand xsi:type="ToConcept">
                              <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="355" locator="188:24-188:45" resultTypeName="t:Code" name="Discharge" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                        <operand localId="360" locator="188:50-188:75" resultTypeName="t:Boolean" xsi:type="Equivalent">
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="357" locator="188:50" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                           <operand xsi:type="ToConcept">
                              <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="359" locator="188:54-188:75" resultTypeName="t:Code" name="Community" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="376" locator="204:1-207:87" name="Encounter with No Antithrombotic At Discharge" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="376">
               <a:s>define &quot;Encounter with No Antithrombotic At Discharge&quot;:
  </a:s>
               <a:s r="375">
                  <a:s>
                     <a:s r="323">
                        <a:s r="322">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  	</a:s>
                  <a:s r="374">
                     <a:s>with </a:s>
                     <a:s r="368">
                        <a:s r="367">
                           <a:s>
                              <a:s>&quot;Reason for Not Giving Antithrombotic at Discharge&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoDischargeAntithrombotic</a:s>
                     </a:s>
                     <a:s>
  	such that </a:s>
                     <a:s r="373">
                        <a:s r="370">
                           <a:s r="369">
                              <a:s>NoDischargeAntithrombotic</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="370">
                              <a:s>authoredOn</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="373"> during </a:s>
                        <a:s r="372">
                           <a:s r="371">
                              <a:s>IschemicStrokeEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="372">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="375" locator="205:3-207:87" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="323" locator="205:3-205:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="322" locator="205:3-205:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="374" locator="206:4-207:87" alias="NoDischargeAntithrombotic" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="367" locator="206:9-206:59" name="Reason for Not Giving Antithrombotic at Discharge" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="373" locator="207:14-207:87" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="370" locator="207:14-207:49" resultTypeName="t:DateTime" path="value" xsi:type="Property">
                     <source path="authoredOn" scope="NoDischargeAntithrombotic" xsi:type="Property"/>
                  </operand>
                  <operand localId="372" locator="207:58-207:87" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand path="period" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="412" locator="214:1-220:44" name="Pharmacological Contraindications for Antithrombotic Therapy at Discharge" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="412">
               <a:s>define &quot;Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;:
  </a:s>
               <a:s r="411">
                  <a:s>
                     <a:s r="381">
                        <a:s r="380">
                           <a:s r="380">
                              <a:s>[&quot;MedicationRequest&quot;: </a:s>
                              <a:s>
                                 <a:s>medication</a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s>
                                 <a:s>&quot;Pharmacological Contraindications For Antithrombotic Therapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Pharmacological</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
      </a:s>
                  <a:s r="410">
                     <a:s>where </a:s>
                     <a:s r="410">
                        <a:s r="405">
                           <a:s r="398">
                              <a:s r="384">
                                 <a:s r="383">
                                    <a:s r="382">
                                       <a:s>Pharmacological</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="383">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is not true</a:s>
                              </a:s>
                              <a:s>
        and </a:s>
                              <a:s r="397">
                                 <a:s>exists </a:s>
                                 <a:s r="396">
                                    <a:s>(</a:s>
                                    <a:s r="396">
                                       <a:s>
                                          <a:s r="386">
                                             <a:s r="385">
                                                <a:s>
                                                   <a:s>Pharmacological.category</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> C</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> </a:s>
                                       <a:s r="395">
                                          <a:s>where 
                   </a:s>
                                          <a:s r="395">
                                             <a:s r="390">
                                                <a:s r="387">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="389">
                                                   <a:s r="388">
                                                      <a:s>QICoreCommon</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="389">
                                                      <a:s>Discharge</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> or </a:s>
                                             <a:s r="394">
                                                <a:s r="391">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s> ~ </a:s>
                                                <a:s r="393">
                                                   <a:s r="392">
                                                      <a:s>QICoreCommon</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="393">
                                                      <a:s>Community</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        and </a:s>
                           <a:s r="404">
                              <a:s r="400">
                                 <a:s r="399">
                                    <a:s>Pharmacological</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="400">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="403">
                                 <a:s>{ </a:s>
                                 <a:s r="401">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="402">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="409">
                           <a:s r="407">
                              <a:s r="406">
                                 <a:s>Pharmacological</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="407">
                                 <a:s>intent</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="408">
                              <a:s>'order'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="411" locator="215:3-220:44" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="381" locator="215:3-215:117" alias="Pharmacological">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="380" locator="215:3-215:101" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="215:39-215:100" resultTypeName="t:ValueSet" name="Pharmacological Contraindications For Antithrombotic Therapy" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="410" locator="216:7-220:44" resultTypeName="t:Boolean" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="405" locator="216:13-219:63" resultTypeName="t:Boolean" xsi:type="And">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="398" locator="216:13-218:76" resultTypeName="t:Boolean" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="384" locator="216:13-216:52" resultTypeName="t:Boolean" xsi:type="Not">
                        <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                        <operand locator="216:13-216:52" resultTypeName="t:Boolean" xsi:type="IsTrue">
                           <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                           <operand localId="383" locator="216:13-216:40" resultTypeName="t:Boolean" path="value" xsi:type="Property">
                              <source path="doNotPerform" scope="Pharmacological" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="397" locator="217:13-218:76" resultTypeName="t:Boolean" xsi:type="Exists">
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="396" locator="217:20-218:76" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="386" locator="217:21-217:46" alias="C">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="385" locator="217:21-217:44" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source alias="$this">
                                    <expression path="category" scope="Pharmacological" xsi:type="Property"/>
                                 </source>
                                 <return distinct="false">
                                    <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </expression>
                           </source>
                           <where localId="395" locator="217:48-218:75" resultTypeName="t:Boolean" xsi:type="Or">
                              <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                              <operand localId="390" locator="218:20-218:45" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="387" locator="218:20" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                                 <operand xsi:type="ToConcept">
                                    <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="389" locator="218:24-218:45" resultTypeName="t:Code" name="Discharge" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                                 </operand>
                              </operand>
                              <operand localId="394" locator="218:50-218:75" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <signature name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                                 <operand localId="391" locator="218:50" resultTypeName="t:Concept" name="C" xsi:type="AliasRef"/>
                                 <operand xsi:type="ToConcept">
                                    <signature name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    <operand localId="393" locator="218:54-218:75" resultTypeName="t:Code" name="Community" libraryName="QICoreCommon" xsi:type="CodeRef"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="404" locator="219:13-219:63" resultTypeName="t:Boolean" xsi:type="In">
                     <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                     <signature xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </signature>
                     <operand localId="400" locator="219:13-219:34" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="status" scope="Pharmacological" xsi:type="Property"/>
                     </operand>
                     <operand localId="403" locator="219:39-219:63" xsi:type="List">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <element localId="401" locator="219:41-219:48" resultTypeName="t:String" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="402" locator="219:51-219:61" resultTypeName="t:String" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="409" locator="220:13-220:44" resultTypeName="t:Boolean" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="407" locator="220:13-220:34" resultTypeName="t:String" path="value" xsi:type="Property">
                     <source path="intent" scope="Pharmacological" xsi:type="Property"/>
                  </operand>
                  <operand localId="408" locator="220:38-220:44" resultTypeName="t:String" valueType="t:String" value="order" xsi:type="Literal"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="422" locator="209:1-212:91" name="Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="422">
               <a:s>define &quot;Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;:
  </a:s>
               <a:s r="421">
                  <a:s>
                     <a:s r="379">
                        <a:s r="378">
                           <a:s>
                              <a:s>&quot;Ischemic Stroke Encounter&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IschemicStrokeEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
      </a:s>
                  <a:s r="420">
                     <a:s>with </a:s>
                     <a:s r="414">
                        <a:s r="413">
                           <a:s>
                              <a:s>&quot;Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> DischargePharmacological</a:s>
                     </a:s>
                     <a:s>
        such that </a:s>
                     <a:s r="419">
                        <a:s r="416">
                           <a:s r="415">
                              <a:s>DischargePharmacological</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="416">
                              <a:s>authoredOn</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="419"> during </a:s>
                        <a:s r="418">
                           <a:s r="417">
                              <a:s>IschemicStrokeEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="418">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="421" locator="210:3-212:91" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="379" locator="210:3-210:53" alias="IschemicStrokeEncounter">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="378" locator="210:3-210:29" name="Ischemic Stroke Encounter" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <relationship localId="420" locator="211:7-212:91" alias="DischargePharmacological" xsi:type="With">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="413" locator="211:12-211:86" name="Pharmacological Contraindications for Antithrombotic Therapy at Discharge" xsi:type="ExpressionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
               <suchThat localId="419" locator="212:19-212:91" resultTypeName="t:Boolean" xsi:type="In">
                  <signature name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  <signature xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </signature>
                  <operand localId="416" locator="212:19-212:53" resultTypeName="t:DateTime" path="value" xsi:type="Property">
                     <source path="authoredOn" scope="DischargePharmacological" xsi:type="Property"/>
                  </operand>
                  <operand localId="418" locator="212:62-212:91" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <operand path="period" scope="IschemicStrokeEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="425" locator="175:1-177:98" name="Denominator Exceptions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="425">
               <a:s>define &quot;Denominator Exceptions&quot;:
  </a:s>
               <a:s r="424">
                  <a:s r="377">
                     <a:s>&quot;Encounter with No Antithrombotic At Discharge&quot;</a:s>
                  </a:s>
                  <a:s>
  union </a:s>
                  <a:s r="423">
                     <a:s>&quot;Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="424" locator="176:3-177:98" xsi:type="Union">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <signature xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
            </signature>
            <operand localId="377" locator="176:3-176:49" name="Encounter with No Antithrombotic At Discharge" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
            <operand localId="423" locator="177:9-177:98" name="Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge" xsi:type="ExpressionRef">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="451" locator="191:1-202:3" name="zDISPLAY Medication Request" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="451">
               <a:s>//  [&quot;MedicationRequest&quot;: medication in &quot;Antithrombotic Therapy&quot;] NoAntithromboticDischarge
define &quot;zDISPLAY Medication Request&quot;:
  </a:s>
               <a:s r="450">
                  <a:s>
                     <a:s r="427">
                        <a:s r="426">
                           <a:s r="426">
                              <a:s>[&quot;MedicationRequest&quot;: </a:s>
                              <a:s>
                                 <a:s>medication</a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s>
                                 <a:s>&quot;Antithrombotic Therapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoAntithromboticDischarge</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="449">
                     <a:s>return </a:s>
                     <a:s r="448">
                        <a:s>Tuple {
    </a:s>
                        <a:s>
                           <a:s>doNotPerform: </a:s>
                           <a:s r="429">
                              <a:s r="428">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="429">
                                 <a:s>doNotPerform</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>medication: </a:s>
                           <a:s r="431">
                              <a:s r="430">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="431">
                                 <a:s>medication</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>reasonCode: </a:s>
                           <a:s r="433">
                              <a:s r="432">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="433">
                                 <a:s>reasonCode</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>reasonInMed: </a:s>
                           <a:s r="437">
                              <a:s>( </a:s>
                              <a:s r="437">
                                 <a:s r="435">
                                    <a:s r="434">
                                       <a:s>NoAntithromboticDischarge</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="435">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="436">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>reasonInPatRef: </a:s>
                           <a:s r="441">
                              <a:s>(</a:s>
                              <a:s r="441">
                                 <a:s r="439">
                                    <a:s r="438">
                                       <a:s>NoAntithromboticDischarge</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="439">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="440">
                                    <a:s>&quot;Patient Refusal&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>category: </a:s>
                           <a:s r="443">
                              <a:s r="442">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="443">
                                 <a:s>category</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>dischargeStatus: </a:s>
                           <a:s r="445">
                              <a:s r="444">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="445">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,
    </a:s>
                        <a:s>
                           <a:s>intent: </a:s>
                           <a:s r="447">
                              <a:s r="446">
                                 <a:s>NoAntithromboticDischarge</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="447">
                                 <a:s>intent</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  }</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="doNotPerform">
                  <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="medication">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="reasonCode">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="reasonInMed">
                  <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="reasonInPatRef">
                  <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="category">
                  <elementType xsi:type="ListTypeSpecifier">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
               <element name="dischargeStatus">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="intent">
                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="450" locator="192:3-202:3" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="doNotPerform">
                     <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="medication">
                     <elementType xsi:type="ChoiceTypeSpecifier">
                        <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="reasonCode">
                     <elementType xsi:type="ListTypeSpecifier">
                        <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="reasonInMed">
                     <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="reasonInPatRef">
                     <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="category">
                     <elementType xsi:type="ListTypeSpecifier">
                        <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element name="dischargeStatus">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="intent">
                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="427" locator="192:3-192:89" alias="NoAntithromboticDischarge">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="426" locator="192:3-192:63" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <codes locator="192:39-192:62" resultTypeName="t:ValueSet" name="Antithrombotic Therapy" preserve="true" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <return localId="449" locator="193:3-202:3">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="doNotPerform">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="medication">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="reasonCode">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="reasonInMed">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="reasonInPatRef">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="category">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="dischargeStatus">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="intent">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="448" locator="193:10-202:3" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="doNotPerform">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="medication">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="reasonCode">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="reasonInMed">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="reasonInPatRef">
                        <elementType name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="category">
                        <elementType xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </element>
                     <element name="dischargeStatus">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="intent">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </element>
                  </resultTypeSpecifier>
                  <element name="doNotPerform">
                     <value localId="429" locator="194:19-194:56" resultTypeName="t:Boolean" path="value" xsi:type="Property">
                        <source path="doNotPerform" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                     </value>
                  </element>
                  <element name="medication">
                     <value localId="431" locator="195:17-195:52" name="ToValue" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                           <choice name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand path="medication" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                     </value>
                  </element>
                  <element name="reasonCode">
                     <value localId="433" locator="196:17-196:52" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source alias="$this">
                           <expression path="reasonCode" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                        </source>
                        <return distinct="false">
                           <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand name="$this" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </value>
                  </element>
                  <element name="reasonInMed">
                     <value localId="437" locator="197:18-197:76" resultTypeName="t:Boolean" xsi:type="AnyInValueSet">
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <codes localId="435" locator="197:20-197:55" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source alias="$this">
                              <expression path="reasonCode" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="436" locator="197:60-197:75" resultTypeName="t:ValueSet" name="Medical Reason" preserve="true"/>
                     </value>
                  </element>
                  <element name="reasonInPatRef">
                     <value localId="441" locator="198:21-198:79" resultTypeName="t:Boolean" xsi:type="AnyInValueSet">
                        <signature xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <codes localId="439" locator="198:22-198:57" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source alias="$this">
                              <expression path="reasonCode" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="440" locator="198:62-198:78" resultTypeName="t:ValueSet" name="Patient Refusal" preserve="true"/>
                     </value>
                  </element>
                  <element name="category">
                     <value localId="443" locator="199:15-199:48" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source alias="$this">
                           <expression path="category" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                        </source>
                        <return distinct="false">
                           <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand name="$this" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </value>
                  </element>
                  <element name="dischargeStatus">
                     <value localId="445" locator="200:22-200:53" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="status" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                     </value>
                  </element>
                  <element name="intent">
                     <value localId="447" locator="201:13-201:44" resultTypeName="t:String" path="value" xsi:type="Property">
                        <source path="intent" scope="NoAntithromboticDischarge" xsi:type="Property"/>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="454" locator="222:1-223:21" resultTypeName="t:String" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="454">
               <a:s>define &quot;SDE Ethnicity&quot;:
  </a:s>
               <a:s r="453">
                  <a:s r="452">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="453">
                     <a:s>&quot;SDE Ethnicity&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="453" locator="223:3-223:21" resultTypeName="t:String" name="SDE Ethnicity" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="457" locator="225:1-226:17" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="457">
               <a:s>define &quot;SDE Payer&quot;:
  </a:s>
               <a:s r="456">
                  <a:s r="455">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="456">
                     <a:s>&quot;SDE Payer&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="code">
                  <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="period">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="456" locator="226:3-226:17" name="SDE Payer" libraryName="SDE" xsi:type="ExpressionRef">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="code">
                     <elementType name="t:Concept" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="period">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
               </elementType>
            </resultTypeSpecifier>
         </expression>
      </def>
      <def localId="460" locator="228:1-229:16" resultTypeName="t:String" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="460">
               <a:s>define &quot;SDE Race&quot;:
  </a:s>
               <a:s r="459">
                  <a:s r="458">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="459">
                     <a:s>&quot;SDE Race&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="459" locator="229:3-229:16" resultTypeName="t:String" name="SDE Race" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="463" locator="231:1-232:15" resultTypeName="t:Code" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="463">
               <a:s>define &quot;SDE Sex&quot;:
  </a:s>
               <a:s r="462">
                  <a:s r="461">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="462">
                     <a:s>&quot;SDE Sex&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="462" locator="232:3-232:15" resultTypeName="t:Code" name="SDE Sex" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
   </statements>
</library>
